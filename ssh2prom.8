.\" Generated by Mmark Markdown Processer - mmark.miek.nl
.TH "SSH2PROM" 8 "April 2024" "System Administration" "Prometheus"

.SH "NAME"
.PP
ssh2prom - export failed logins to prometheus

.SH "SYNOPSIS"
.PP
\fBssh2prom\fP [\fBOPTIONS\fP]...

.SH "DESCRIPTION"
.PP
\fBSsh2prom\fP parsed the journald of ssh and extract failed login attemps. It exports two metrics

.IP \(bu 4
ssh_failed_total{}
.IP \(bu 4
ssh_failed_root_total{}


.PP
That can be scraped by prometheus.

.PP
No semantic checks are done, this is purely text manipulation with some basic zone file syntax
understanding.

.SH "OPTIONS"
.TP
\fB\fC-a\fR \fBADDR\fP
Start the prometheus server on \fIADDR\fP
.TP
\fB\fC-d\fR
Enable debugging, show the logs and parsed users
.TP
\fB\fC-n\fR
Dry run, do everything except export the metrics
.TP
\fB\fC-u\fR \fBUNIT\fP
Use unit \fBUNIT\fP instead of "ssh"


.SH "AUTHOR"
.PP
Miek Gieben miek@miek.nl
\[la]mailto:miek@miek.nl\[ra].

